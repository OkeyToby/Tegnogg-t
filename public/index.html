<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Klassens Skribbl ‚Äì Hold</title>
  <script src="/socket.io/socket.io.js"></script>
  <style>
    :root { --bg:#0b1324; --card:#111827; --muted:#9ca3af; --border:#1f2937; --ink:#111827; }
    * { box-sizing: border-box; }
    body { margin:0; font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial; background: var(--bg); color: #fff; }
    header { padding:12px 16px; background: var(--card); display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid var(--border); gap:10px; }
    #roomArea { display:flex; align-items:center; gap:8px; }
    main { display:grid; grid-template-columns: 320px 1fr 320px; gap:12px; padding:12px; }
    .card { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 12px; }
    h3 { margin-top:0; }
    #players .player { padding:6px 8px; border-radius:10px; background:#0f172a; margin-bottom:6px; display:flex; justify-content:space-between; }
    #canvas { background:#fff; border-radius:12px; touch-action:none; width:100%; height:auto; }
    button { border:0; border-radius:10px; padding:10px 14px; background:#0ea5e9; color:#fff; font-weight:700; cursor:pointer }
    input, .code { border:1px solid #374151; border-radius:10px; padding:10px 12px; background:#0f172a; color:#e5e7eb; width:100%; }
    input, select, .code { border:1px solid #374151; border-radius:10px; padding:10px 12px; background:#0f172a; color:#e5e7eb; width:100%; }
    #chooseModal { position:fixed; inset:0; background:rgba(0,0,0,.6); display:none; align-items:center; justify-content:center; z-index:9999; }
    #chooseModal .inner { background:#fff; color:#111827; padding:18px; border-radius:14px; width:min(420px,92vw) }
    .wordopt { display:inline-block; margin:6px 6px 0 0; padding:10px 12px; border:1px solid #e5e7eb; border-radius:10px; cursor:pointer; background:#f8fafc; }
    .wordopt { display:inline-block; margin:6px 6px 0 0; padding:10px 12px; border:1px solid #e5e7eb; border-radius:10px; cursor:pointer; background:#f8fafc; color:#111827; }
    #chat { height: 52vh; overflow:auto; background:#0f172a; padding:8px; border-radius:10px; }
    .row { display:flex; gap:8px; }
    .muted { color: var(--muted); font-size:.95rem; }
    #podiumModal { position:fixed; inset:0; background:rgba(0,0,0,.65); display:none; align-items:center; justify-content:center; z-index:10000; }
    #podiumModal .inner { background:#111827; color:#fff; padding:22px; border-radius:16px; width:min(520px,94vw); text-align:center; border:1px solid #1f2937; }
    .podium { display:flex; align-items:flex-end; justify-content:center; gap:12px; margin-top:14px; }
    .pod { background:#0f172a; border:1px solid #1f2937; border-radius:12px; width:30%; padding:10px; }
    .pod.gold { background:#365314; } .pod.silver{ background:#334155 } .pod.bronze{ background:#3f1f0e }
    .toolrow { display:flex; gap:8px; align-items:center; margin-top:8px }
    .toolrow button { padding:8px 10px }
    .toolrow input[type=range]{ width:120px }
    @media (max-width: 980px) { main { grid-template-columns: 1fr; } header{flex-direction:column; align-items:flex-start;} }
  </style>
</head>
<body>
<header>
  <div>Klassens Skribbl ‚Äì Hold</div>
  <div id="roomArea">
    <div id="roomBadge" class="muted"></div>
    <button id="shareBtn" title="Del hold" style="display:none;background:#22c55e">Del</button>
    <button id="copyBtn" title="Kopi√©r holdkode" style="display:none;background:#64748b">Kopi√©r</button>
  </div>
</header>

<div id="login" class="card" style="margin:12px">
  <h3>Login</h3>
  <label>Navn</label>
  <input id="name" placeholder="Fornavn" />
  <br>
  <label>Avatar</label>
  <select id="avatar">
    <option value="üòÄ">üòÄ</option>
    <option value="üòé">üòé</option>
    <option value="üê±">üê±</option>
    <option value="üêª">üêª</option>
    <option value="ü¶ä">ü¶ä</option>
  </select>
  <br>
  <label>Klassekode</label>
  <input id="code" type="password" placeholder="Klassekode (fra l√¶rer)" />
  <br>
  <div class="row">
    <button id="btnCreate" style="flex:0 0 auto">Opret hold</button>
    <input id="roomIn" class="code" placeholder="Holdkode (join)" style="flex:1" />
    <button id="btnJoin" style="flex:0 0 auto">Join hold</button>
  </div>
  <p id="loginMsg" style="color:#fca5a5; margin:8px 0 0 0;"></p>
</div>

<main id="app" style="display:none">
  <section class="card" id="left">
    <h3>Spillere</h3>
    <div id="players"></div>
    <div id="hostCtl" style="margin-top:8px; display:none">
      <button id="startBtn">Start spil</button>
      <button id="restartBtn" style="background:#22c55e">Start nyt spil</button>
      <p class="muted" style="margin-top:6px">1 runde = alle har tegnet √©n gang.</p>
      <div id="roundCtl" style="margin-top:8px; display:none">
        <label>Runder: </label>
        <input id="roundsInput" type="number" min="1" value="1" style="width:60px">
        <button id="setRoundsBtn">S√¶t runder</button>
      </div>
    </div>
  </section>

  <section class="card" id="center">
    <canvas id="canvas" width="900" height="600" aria-label="Tegneomr√•de"></canvas>
    <div class="toolrow">
      <button id="penBtn" title="Pen">Pen</button>
      <button id="eraserBtn" title="Viskel√¶der" style="background:#f97316">Viskel√¶der</button>
      <label>Streg:</label>
      <input id="sizeRange" type="range" min="2" max="24" value="4">
      <button id="clearBtn" title="Ryd l√¶rred" style="background:#ef4444">Ryd</button>
    </div>
  </section>

  <section class="card" id="right">
    <h3>Chat & G√¶t</h3>
    <div id="chat" aria-live="polite"></div>
    <div class="row" style="margin-top:8px">
      <input id="msg" placeholder="Skriv g√¶t‚Ä¶" aria-label="Skriv g√¶t" />
      <button id="send">Send</button>
    </div>
    <div id="palette" class="row" style="margin-top:8px">
      <button data-color="#111827" style="background:#111827;width:24px;height:24px;border-radius:4px"></button>
      <button data-color="#ef4444" style="background:#ef4444;width:24px;height:24px;border-radius:4px"></button>
      <button data-color="#10b981" style="background:#10b981;width:24px;height:24px;border-radius:4px"></button>
      <button data-color="#3b82f6" style="background:#3b82f6;width:24px;height:24px;border-radius:4px"></button>
      <button data-color="#f59e0b" style="background:#f59e0b;width:24px;height:24px;border-radius:4px"></button>
      <button data-color="#a855f7" style="background:#a855f7;width:24px;height:24px;border-radius:4px"></button>
    </div>
    <div id="timer" class="muted" style="margin-top:6px"></div>
    <div id="phase" class="muted" style="margin-top:6px"></div>
  </section>
</main>

<div id="chooseModal">
  <div class="inner">
    <h3>V√¶lg eller skriv et ord</h3>
    <p class="muted" id="chooseHint">Maks 20 tegn ‚Äì tydeligt og fair for klassen.</p>
    <div id="options"></div>
    <div style="margin-top:10px">
      <input id="freeWord" placeholder="Skriv dit ord" />
      <div class="row" style="margin-top:8px">
        <button id="submitWord" class="wordopt">Brug mit ord</button>
        <button id="cancelWord" class="wordopt">Luk</button>
      </div>
    </div>
  </div>
</div>

<div id="podiumModal">
  <div class="inner">
    <h3>Podium</h3>
    <div id="podiumList" class="podium"></div>
    <div style="margin-top:10px">
      <button id="closePodium">Luk</button>
    </div>
  </div>
</div>

<script src="app.js"></script>

</body>
</html>
